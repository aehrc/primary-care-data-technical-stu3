{
  "resourceType": "StructureDefinition",
  "id": "au-primarycareallergyintolerance",
  "url": "https://aehrc.com/fhir/StructureDefinition/AUPrimaryCareAllergyIntolerance",
  "version": "0.0.1",
  "name": "AUPrimaryCareAllergyIntolerance",
  "title": "AU Primary Care Allergy Intolerance",
  "status": "draft",
  "experimental": false,
  "description": "This profile defines an allergy intolerance structure that includes core localisation concepts for use in an Australian primary care practice-to-practice record transfer context.",
  "purpose": "This profile defines an allergy intolerance structure that includes core localisation concepts for use in an Australian primary care practice-to-practice record transfer context.",
  "fhirVersion": "3.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "AllergyIntolerance",
  "baseDefinition": "http://hl7.org.au/fhir/StructureDefinition/au-allergyintolerance",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "AllergyIntolerance.verificationStatus",
        "path": "AllergyIntolerance.verificationStatus",
        "comment": "This element is labeled as a modifier because the status contains the codes refuted and entered-in-error that mark the AllergyIntolerance as not currently valid.\r\n\r\nIf the clinician has not provided specific information about the clinical verification of the reaction, then it should be exported as 'unconfirmed'.",
        "mustSupport": true,
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "AllergyIntoleranceVerificationStatus"
            }
          ],
          "strength": "required",
          "valueSetUri": "http://hl7.org/fhir/ValueSet/allergy-verification-status"
        }
      },
      {
        "id": "AllergyIntolerance.criticality",
        "path": "AllergyIntolerance.criticality",
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.code",
        "path": "AllergyIntolerance.code",
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.patient",
        "path": "AllergyIntolerance.patient",
        "type": [
          {
            "code": "Reference",
            "targetProfile": "https://aehrc.com/fhir/StructureDefinition/AUPrimaryCarePatient"
          }
        ]
      },
      {
        "id": "AllergyIntolerance.assertedDate",
        "path": "AllergyIntolerance.assertedDate",
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.reaction",
        "path": "AllergyIntolerance.reaction",
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.reaction.substance",
        "path": "AllergyIntolerance.reaction.substance",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.reaction.substance.coding:snomedSubstance",
        "path": "AllergyIntolerance.reaction.substance.coding",
        "sliceName": "snomedSubstance",
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.reaction.manifestation",
        "path": "AllergyIntolerance.reaction.manifestation",
        "mustSupport": true
      },
      {
        "id": "AllergyIntolerance.reaction.manifestation.coding:snomedManifestation",
        "path": "AllergyIntolerance.reaction.manifestation.coding",
        "sliceName": "snomedManifestation",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSetUri": "http://aehrc.com/valueset/reaction-manifestation"
        }
      },
      {
        "id": "AllergyIntolerance.reaction.note",
        "path": "AllergyIntolerance.reaction.note",
        "mustSupport": true
      }
    ]
  }
}